## 2.2 应用程序阶段

因为大多是cpu计算，所以开发者决定这个阶段该干嘛，怎么实现，怎么优化。但是有时候这个阶段还是能影响后面的阶段的。例如，某应用程序阶段的算法决定哪些三角形需要拿来渲染。

但是有的应用阶段也可以用gpu来运算。因为gpu有*compute shader*，用它可以把gpu当作通用并行计算核来使用，无视其图形渲染的功能。

此阶段最后，需要把需要绘制的几何传给下一阶段。这些东西被我们称作*渲染图元*。包括点，线，三角形，或者说所有可能被画到屏幕上的玩意儿。这个工作是应用程序阶段的最重要的任务。

因为这个阶段通常是cpu计算，它就不像其他阶段一样可以拆分为子阶段。不过为了提高性能，此阶段通常在多个核上并行处理。cpu中还有超标量结构，可以支持同时执行多个操作。[18.5](TODO)会介绍一些多核计算的实现方法。

此阶段常见的一个工作是*碰撞检测*。可在检测到两个物体有碰撞后，产生响应并返回给碰撞物体，或者传递给力反馈设备（译注：手柄？）。

此阶段还负责处理外部设备的输入，如键盘，鼠标，头戴式显示设备等；根据输入可以进行若干处理。一些加速算法也在这个阶段发生，例如典型的剔除算法。此阶段还有包括后面的渲染流程无法做的其他所有事情。